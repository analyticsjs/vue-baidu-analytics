{"code":"import PushBAIDU from '@m/pushBAIDU';\r\nimport getVueVersion from '@m/getVueVersion';\r\nexport var pushBAIDU = null;\r\nfunction install(Vue, _a) {\r\n    var router = _a.router, siteIdList = _a.siteIdList, _b = _a.isDebug, isDebug = _b === void 0 ? false : _b;\r\n    if (typeof document === 'undefined' || typeof window === 'undefined') {\r\n        return false;\r\n    }\r\n    if (!router) {\r\n        throw new Error('[vue-baidu-analytics] Must pass a Vue-Router instance to vue-baidu-analytics.');\r\n    }\r\n    if (!siteIdList) {\r\n        throw new Error('[vue-baidu-analytics] Missing tracking domain ID, add at least one of baidu analytics.');\r\n    }\r\n    pushBAIDU = new PushBAIDU(siteIdList, isDebug);\r\n    var VUE_VERSION = getVueVersion(Vue) || 0;\r\n    if (VUE_VERSION === 2) {\r\n        Vue.prototype.$pushBAIDU = pushBAIDU;\r\n    }\r\n    if (VUE_VERSION === 3) {\r\n        Vue.config.globalProperties.$pushBAIDU = pushBAIDU;\r\n    }\r\n    if (siteIdList) {\r\n        pushBAIDU.init();\r\n    }\r\n    router.afterEach(function (to) {\r\n        var PAGE_PATH_DIR_COUNT = window.location.pathname.split('/').length;\r\n        var PAGE_PATH = window.location.pathname.split('/').slice(0, PAGE_PATH_DIR_COUNT - 1).join('/');\r\n        var PAGE_URL = router.mode === 'hash' ? PAGE_PATH + \"/#\" + to.fullPath : \"\" + PAGE_PATH + to.fullPath;\r\n        pushBAIDU.pv(PAGE_URL);\r\n    });\r\n}\r\nexport default install;\r\n//# sourceMappingURL=main.js.map","references":["E:/Project/npm-project/vue-baidu-analytics/src/modules/pushBAIDU.ts","E:/Project/npm-project/vue-baidu-analytics/src/modules/getVueVersion.ts"],"map":"{\"version\":3,\"file\":\"main.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/main.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,SAAS,MAAM,cAAc,CAAA;AACpC,OAAO,aAAa,MAAM,kBAAkB,CAAA;AAK5C,MAAM,CAAC,IAAI,SAAS,GAAQ,IAAI,CAAC;AAKjC,SAAS,OAAO,CAAE,GAAQ,EAAE,EAAyD;QAAvD,MAAM,YAAA,EAAE,UAAU,gBAAA,EAAE,eAAe,EAAf,OAAO,mBAAG,KAAK,KAAA;IAK/D,IAAK,OAAO,QAAQ,KAAK,WAAW,IAAI,OAAO,MAAM,KAAK,WAAW,EAAG;QACtE,OAAO,KAAK,CAAC;KACd;IAED,IAAK,CAAC,MAAM,EAAG;QACb,MAAM,IAAI,KAAK,CAAC,+EAA+E,CAAC,CAAC;KAClG;IAED,IAAK,CAAC,UAAU,EAAG;QACjB,MAAM,IAAI,KAAK,CAAC,wFAAwF,CAAC,CAAC;KAC3G;IAKD,SAAS,GAAG,IAAI,SAAS,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC;IAG/C,IAAM,WAAW,GAAW,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;IAGpD,IAAK,WAAW,KAAK,CAAC,EAAG;QACvB,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,SAAS,CAAC;KACtC;IAGD,IAAK,WAAW,KAAK,CAAC,EAAG;QACvB,GAAG,CAAC,MAAM,CAAC,gBAAgB,CAAC,UAAU,GAAG,SAAS,CAAC;KACpD;IAKD,IAAK,UAAU,EAAG;QAChB,SAAS,CAAC,IAAI,EAAE,CAAC;KAClB;IAKD,MAAM,CAAC,SAAS,CAAE,UAAC,EAAM;QACvB,IAAM,mBAAmB,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC;QACvE,IAAM,SAAS,GAAG,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,mBAAmB,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAClG,IAAM,QAAQ,GAAG,MAAM,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAI,SAAS,UAAK,EAAE,CAAC,QAAU,CAAC,CAAC,CAAC,KAAG,SAAS,GAAG,EAAE,CAAC,QAAU,CAAC;QAExG,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC;AACL,CAAC;AAED,eAAe,OAAO,CAAC\"}","dts":{"name":"E:/Project/npm-project/vue-baidu-analytics/main.d.ts","writeByteOrderMark":false,"text":"export declare let pushBAIDU: any;\r\ndeclare function install(Vue: Vue, { router, siteIdList, isDebug }: Partial<Options>): boolean;\r\nexport default install;\r\n"}}
