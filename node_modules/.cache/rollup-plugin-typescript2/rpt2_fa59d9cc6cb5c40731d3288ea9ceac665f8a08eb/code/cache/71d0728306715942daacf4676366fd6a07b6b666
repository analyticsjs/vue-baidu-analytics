{"code":"var BAIDU = (function () {\r\n    function BAIDU(siteId, isDebug) {\r\n        if (siteId === void 0) { siteId = ''; }\r\n        if (isDebug === void 0) { isDebug = false; }\r\n        this.siteId = siteId;\r\n        this.isDebug = isDebug;\r\n    }\r\n    BAIDU.prototype.init = function () {\r\n        window._hmt = window._hmt ? window._hmt : [];\r\n        var SCRIPT = document.createElement('script');\r\n        SCRIPT['async'] = true;\r\n        SCRIPT['src'] = \"https://hm.baidu.com/hm.js?\" + this.siteId;\r\n        document.querySelector('head').appendChild(SCRIPT);\r\n        if (this.isDebug) {\r\n            console.log(\"[vue-baidu-analytics] siteId load done.\\nsiteId:    \" + this.siteId);\r\n        }\r\n    };\r\n    BAIDU.prototype.setAccount = function () {\r\n        window._hmt.push(['_setAccount', this.siteId]);\r\n    };\r\n    BAIDU.prototype.trackPageview = function (pageUrl) {\r\n        if (!pageUrl || typeof pageUrl !== 'string') {\r\n            pageUrl = '/';\r\n        }\r\n        if (pageUrl.includes('http')) {\r\n            var PAGE_CUT = pageUrl.split('/');\r\n            var HOST_NAME = PAGE_CUT[0] + \"//\" + PAGE_CUT[2];\r\n            pageUrl = pageUrl.replace(HOST_NAME, '');\r\n        }\r\n        this.setAccount();\r\n        window._hmt.push(['_trackPageview', pageUrl]);\r\n        if (this.isDebug) {\r\n            console.log(\"[vue-baidu-analytics] track pv done.\\nsiteId:    \" + this.siteId + \"\\npageUrl:   \" + pageUrl);\r\n        }\r\n    };\r\n    BAIDU.prototype.trackEvent = function (category, action, label, value) {\r\n        if (typeof category !== 'string' || typeof action !== 'string' || !category || !action) {\r\n            throw new Error('[vue-baidu-analytics] Missing necessary category and operation information, and must be of type string.');\r\n            return false;\r\n        }\r\n        if (!label || typeof label !== 'string') {\r\n            label = '';\r\n        }\r\n        if (!Number(value)) {\r\n            value = 1;\r\n        }\r\n        this.setAccount();\r\n        window._hmt.push(['_trackEvent', category, action, label, value]);\r\n        if (this.isDebug) {\r\n            console.log(\"[vue-baidu-analytics] track event done.\\nsiteId:   \" + this.siteId + \"\\ncategory: \" + category + \"\\naction:   \" + action + \"\\nlabel:    \" + label + \"\\nvalue:    \" + value);\r\n        }\r\n    };\r\n    return BAIDU;\r\n}());\r\nexport default BAIDU;\r\n//# sourceMappingURL=baidu.js.map","references":[],"map":"{\"version\":3,\"file\":\"baidu.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/modules/baidu.ts\"],\"names\":[],\"mappings\":\"AAIA;IAIE,eAAa,MAAmB,EAAE,OAAwB;QAA7C,uBAAA,EAAA,WAAmB;QAAE,wBAAA,EAAA,eAAwB;QACxD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IACzB,CAAC;IAKD,oBAAI,GAAJ;QACE,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7C,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QAChD,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC;QACvB,MAAM,CAAC,KAAK,CAAC,GAAG,gCAA8B,IAAI,CAAC,MAAQ,CAAC;QAC5D,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAEnD,IAAK,IAAI,CAAC,OAAO,EAAG;YAClB,OAAO,CAAC,GAAG,CAAC,yDAAuD,IAAI,CAAC,MAAQ,CAAC,CAAC;SACnF;IACH,CAAC;IAKD,0BAAU,GAAV;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACjD,CAAC;IAKD,6BAAa,GAAb,UAAe,OAAe;QAE5B,IAAK,CAAC,OAAO,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAG;YAC7C,OAAO,GAAG,GAAG,CAAC;SACf;QAGD,IAAK,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAG;YAC9B,IAAM,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACpC,IAAM,SAAS,GAAM,QAAQ,CAAC,CAAC,CAAC,UAAK,QAAQ,CAAC,CAAC,CAAG,CAAC;YACnD,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;SAC1C;QAGD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC,CAAC;QAE9C,IAAK,IAAI,CAAC,OAAO,EAAG;YAClB,OAAO,CAAC,GAAG,CAAC,sDAAoD,IAAI,CAAC,MAAM,qBAAgB,OAAS,CAAC,CAAC;SACvG;IACH,CAAC;IAKD,0BAAU,GAAV,UAAY,QAAgB,EAAE,MAAc,EAAE,KAAa,EAAE,KAAa;QAExE,IAAK,OAAO,QAAQ,KAAK,QAAQ,IAAK,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,QAAQ,IAAI,CAAC,MAAM,EAAG;YACzF,MAAM,IAAI,KAAK,CAAC,yGAAyG,CAAC,CAAC;YAC3H,OAAO,KAAK,CAAC;SACd;QAGD,IAAK,CAAC,KAAK,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAI;YAC1C,KAAK,GAAG,EAAE,CAAC;SACZ;QAED,IAAK,CAAC,MAAM,CAAC,KAAK,CAAC,EAAG;YACpB,KAAK,GAAG,CAAC,CAAC;SACX;QAGD,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;QAElE,IAAK,IAAI,CAAC,OAAO,EAAG;YAClB,OAAO,CAAC,GAAG,CAAC,wDAAsD,IAAI,CAAC,MAAM,oBAAe,QAAQ,oBAAe,MAAM,oBAAe,KAAK,oBAAe,KAAO,CAAC,CAAC;SACtK;IACH,CAAC;IACH,YAAC;AAAD,CAAC,AAnFD,IAmFC;AAED,eAAe,KAAK,CAAC\"}","dts":{"name":"E:/Project/npm-project/vue-baidu-analytics/modules/baidu.d.ts","writeByteOrderMark":false,"text":"declare class BAIDU {\r\n    siteId: string;\r\n    isDebug: boolean;\r\n    constructor(siteId?: string, isDebug?: boolean);\r\n    init(): void;\r\n    setAccount(): void;\r\n    trackPageview(pageUrl: string): void;\r\n    trackEvent(category: string, action: string, label: string, value: number): boolean;\r\n}\r\nexport default BAIDU;\r\n"}}
